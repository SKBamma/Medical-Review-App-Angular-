import{a as j,b as k}from"./chunk-MR4OQB62.js";import{a as O,b as n,d as P,e as D,g as q,i as B,j as G,k as L,l as T,m as U,p as V,q as A}from"./chunk-UJIKMQO5.js";import{f as w}from"./chunk-JX3YJDLC.js";import{a as I}from"./chunk-PCOHNBFV.js";import{a as E,b as N}from"./chunk-MFJWH2YW.js";import{h as F,k as S}from"./chunk-OKUQG4XM.js";import{Cb as y,Db as r,Ga as a,W as u,Y as M,Za as i,Zb as x,gb as o,hb as e,ib as f,ob as b,yb as s}from"./chunk-COKKNC63.js";import{d as l,e as v,f as C}from"./chunk-4RCH4JJG.js";var H=()=>["example-form"],J=()=>["header"],h=()=>["example-full-width"],K=()=>["fileInput"],Q=()=>["example-button-row"],ce=(()=>{var m,d;let c=class c{constructor(){v(this,m);v(this,d);C(this,m,u(F)),this.medService=u(I),C(this,d,u(S)),this.form=u(L).group({_id:"",name:["",[n.required,n.minLength(3)]],generic_name:["",[n.required,n.minLength(3)]],medication_class:["",[n.required,n.minLength(3)]],availability:["",[n.required,n.minLength(3)]],image:["",[n.required]]}),this.medication=l(this,m).getCurrentNavigation()?.extras.state,this.medication&&this.form.patchValue({_id:this.medication._id,name:this.medication.name,generic_name:this.medication.generic_name,medication_class:this.medication.medication_class,availability:this.medication.availability,image:this.medication.image._id})}setFile(t){this.file=t.target.files[0]}onUpdate(){console.log("ffgft",this.medication);let t=new FormData;t.append("_id",this.form.get("_id")?.value),t.append("name",this.form.get("name")?.value),t.append("generic_name",this.form.get("generic_name")?.value),t.append("medication_class",this.form.get("medication_class")?.value),t.append("availability",this.form.get("availability")?.value),t.append("medication_image",this.file),this.medService.updateMedicationById(t).subscribe(p=>{p.success?(l(this,d).success("Medicine was updated successfully!"),l(this,m).navigate(["","medications","list-medications"])):(l(this,d).error("Something went wrong, unable to update!"),l(this,m).navigate(["","medications","list-medications"]))})}goBack(){l(this,m).navigate(["","medications","list-medications"])}};m=new WeakMap,d=new WeakMap,c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=M({type:c,selectors:[["app-update-medication"]],standalone:!0,features:[y],decls:23,vars:18,consts:[[3,"ngSubmit","ngClass","formGroup"],[3,"ngClass"],["type","text","matInput","","formControlName","name","placeholder","Ex. Acetaminophen"],["type","text","matInput","","formControlName","generic_name","placeholder","Ex. acetaminophen (oral)"],["type","text","matInput","","formControlName","medication_class","placeholder","Ex. Miscellaneous analgesics"],["type","text","matInput","","formControlName","availability","placeholder","Ex. Prescription or OTC"],["type","file","formControlName","image",3,"change","ngClass"],["mat-flat-button","","type","submit",3,"disabled"]],template:function(p,g){p&1&&(o(0,"form",0),b("ngSubmit",function(){return g.onUpdate()}),o(1,"h2",1),s(2,"Edit Medicine"),e(),o(3,"mat-form-field",1)(4,"mat-label"),s(5,"Medicine Name"),e(),f(6,"input",2),e(),o(7,"mat-form-field",1)(8,"mat-label"),s(9,"Medicine's Generic Name"),e(),f(10,"input",3),e(),o(11,"mat-form-field",1)(12,"mat-label"),s(13,"Medication Class"),e(),f(14,"input",4),e(),o(15,"mat-form-field",1)(16,"mat-label"),s(17,"Medication Availability"),e(),f(18,"input",5),e(),o(19,"input",6),b("change",function(z){return g.setFile(z)}),e(),o(20,"div",1)(21,"button",7),s(22,"Submit"),e()()()),p&2&&(i("ngClass",r(10,H))("formGroup",g.form),a(),i("ngClass",r(11,J)),a(2),i("ngClass",r(12,h)),a(4),i("ngClass",r(13,h)),a(4),i("ngClass",r(14,h)),a(4),i("ngClass",r(15,h)),a(4),i("ngClass",r(16,K)),a(),i("ngClass",r(17,Q)),a(),i("disabled",g.form.invalid))},dependencies:[T,q,O,P,D,B,G,N,E,w,x,A,V,U,k,j],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}.fileInput[_ngcontent-%COMP%]{margin-left:18%;margin-top:5%}.example-form[_ngcontent-%COMP%]{width:60%;border:1px solid red;border-radius:15px;background-color:#c7e6ad;margin:10% 5% 10% 10%}.example-full-width[_ngcontent-%COMP%]{width:60%;margin-left:18%;margin-top:5%}.example-button-row[_ngcontent-%COMP%]{margin-top:10%;margin-left:30%;margin-bottom:10%}.example-button-row-2[_ngcontent-%COMP%]{margin-top:10%;margin-bottom:5%;display:flex;justify-content:space-around}.header[_ngcontent-%COMP%]{margin-left:30%;margin-top:15%;margin-bottom:10;color:#00f}"]});let _=c;return _})();export{ce as UpdateMedicationComponent};
