import{a as H,b as J}from"./chunk-MR4OQB62.js";import{a as P,b as p,d as q,e as G,g as B,i as V,j as R,k as j,l as k,m as L,p as U,q as z}from"./chunk-UJIKMQO5.js";import{b as w}from"./chunk-523367XX.js";import{a as D}from"./chunk-PCOHNBFV.js";import{a as T,b as O}from"./chunk-MFJWH2YW.js";import{h as A,k as I}from"./chunk-OKUQG4XM.js";import{Cb as E,Db as o,Ga as i,W as f,Xa as S,Y as x,Za as n,Zb as N,bb as F,gb as a,hb as t,ib as g,ob as b,p as _,x as y,yb as r}from"./chunk-COKKNC63.js";import{d as h,e as M,f as C}from"./chunk-4RCH4JJG.js";var W=()=>["example-form"],X=()=>["header"],v=()=>["example-full-width"],Y=()=>["fileInput"],Z=()=>["example-button-row"];function $(c,l){c&1&&(a(0,"p"),r(1,"This med already exist!"),t())}var ve=(()=>{var l,d;let s=class s{constructor(){M(this,l);M(this,d);this.medService=f(D),C(this,l,f(A)),C(this,d,f(I)),this.form=f(j).nonNullable.group({name:["",{validators:[p.required],updateOn:"change"}],generic_name:["",[p.required]],medication_class:["",[p.required]],availability:["",[p.required]],image:["",[p.required]]}),this.name.valueChanges.pipe(y(1e3),_(e=>this.medService.verifyMedExisted({med_name:e}))).subscribe(e=>{this.name.setErrors(e)})}setFile(e){this.file=e.target.files[0]}get name(){return this.form.controls.name}onAdd(){let e=new FormData;e.append("name",this.form.get("name")?.value),e.append("generic_name",this.form.get("generic_name")?.value),e.append("medication_class",this.form.get("medication_class")?.value),e.append("availability",this.form.get("availability")?.value),e.append("medication_image",this.file),this.medService.addMedication(e).subscribe(m=>{m.success?(this.medService.addMedicationFromState(m.data),h(this,d).success("Medication added successfully!"),h(this,l).navigate(["","medications","list-medications"])):h(this,d).error("Unable to add medication!")})}};l=new WeakMap,d=new WeakMap,s.\u0275fac=function(m){return new(m||s)},s.\u0275cmp=x({type:s,selectors:[["app-add-medication"]],standalone:!0,features:[E],decls:24,vars:19,consts:[[3,"ngSubmit","ngClass","formGroup"],[3,"ngClass"],["type","text","matInput","","formControlName","name","placeholder","Ex. Acetaminophen"],["type","text","matInput","","formControlName","generic_name","placeholder","Ex. acetaminophen (oral)"],["type","text","matInput","","formControlName","medication_class","placeholder","Ex. Miscellaneous analgesics"],["type","text","matInput","","formControlName","availability","placeholder","Ex. Prescription or OTC"],["type","file","formControlName","image",3,"change","ngClass"],["mat-flat-button","","type","submit",3,"disabled"]],template:function(m,u){m&1&&(a(0,"form",0),b("ngSubmit",function(){return u.onAdd()}),a(1,"h2",1),r(2,"Add Medicine"),t(),a(3,"mat-form-field",1)(4,"mat-label"),r(5,"Medicine Name"),t(),g(6,"input",2),S(7,$,2,0,"p"),t(),a(8,"mat-form-field",1)(9,"mat-label"),r(10,"Medicine's Generic Name"),t(),g(11,"input",3),t(),a(12,"mat-form-field",1)(13,"mat-label"),r(14,"Medication Class"),t(),g(15,"input",4),t(),a(16,"mat-form-field",1)(17,"mat-label"),r(18,"Medication Availability"),t(),g(19,"input",5),t(),a(20,"input",6),b("change",function(Q){return u.setFile(Q)}),t(),a(21,"div",1)(22,"button",7),r(23,"Submit"),t()()()),m&2&&(n("ngClass",o(11,W))("formGroup",u.form),i(),n("ngClass",o(12,X)),i(2),n("ngClass",o(13,v)),i(4),F(u.name.hasError("existed")?7:-1),i(),n("ngClass",o(14,v)),i(4),n("ngClass",o(15,v)),i(4),n("ngClass",o(16,v)),i(4),n("ngClass",o(17,Y)),i(),n("ngClass",o(18,Z)),i(),n("disabled",u.form.invalid))},dependencies:[k,B,P,q,G,V,R,O,T,z,U,L,J,H,w,N],styles:[".example-form[_ngcontent-%COMP%]{width:60%;border:1px solid red;border-radius:15px;background-color:#add8e6;margin:15% 5% 5% 10%}.example-full-width[_ngcontent-%COMP%]{width:60%;margin-left:15%;margin-top:5%}.example-button-row[_ngcontent-%COMP%]{margin-top:7%;margin-left:40%;margin-bottom:10%}.fileInput[_ngcontent-%COMP%]{margin-top:8%;margin-left:15%}.header[_ngcontent-%COMP%]{margin-left:30%;margin-top:15%;margin-bottom:10;color:#00f}"]});let c=s;return c})();export{ve as AddMedicationComponent};
